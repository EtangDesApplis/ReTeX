(this["webpackJsonpreact-latex"]=this["webpackJsonpreact-latex"]||[]).push([[0],[,function(e){e.exports=JSON.parse('{"backend":"http://0.0.0.0:5000","info":"https://raw.githubusercontent.com/EtangDesApplis/network-info/master/retex.json","target":"intIP","port":"5000"}')},,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){e.exports=n.p+"static/media/ko-fi.e1440a6f.png"},function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(3),l=n(4),o=n(6),s=n(5),i=n(0),c=n.n(i),r=n(8),u=n.n(r),h=(n(16),n(2)),p=n(9),f=n.n(p);n(17);var d=function(){return c.a.createElement("p",null," Please wait ... ",c.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}))},m=n(1),b=n(10),g=n.n(b),E=function(e){return 1===e.state.response?c.a.createElement("br",null):2===e.state.response?c.a.createElement(d,null):"OK"===e.state.response.Status?(fetch(e.state.backend+e.state.response.LogFile).then((function(e){return e.text()})).then((function(e){console.log(e)})),c.a.createElement("div",null,c.a.createElement("label",null," Log:",c.a.createElement("object",{style:{width:"100%"},type:"text/plain",data:e.state.backend+e.state.response.LogFile},"Job failed")),c.a.createElement("button",{onClick:function(){fetch(e.state.backend+e.state.response.OutputFile).then((function(t){t.blob().then((function(t){var n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e.state.response.OutputFile.split("/").pop(),a.click()}))}))}},"Download Here"),c.a.createElement("br",null),c.a.createElement("p",null,"If you appreciate this App, you could buy me a coffee here :",c.a.createElement("a",{href:"https://ko-fi.com/nguyen31"},c.a.createElement("img",{src:g.a,alt:"Ko-fi link",height:"40"}))))):c.a.createElement("p",null," ",e.state.response.Status," ")},k=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).state={giturl:"https://github.com/EtangDesApplis/ReTeX.git",texfile:"test/cv_homer.tex",response:1,backend:""},l.handleChange1=l.handleChange1.bind(Object(h.a)(l)),l.handleChange2=l.handleChange2.bind(Object(h.a)(l)),l.handleSubmit=l.handleSubmit.bind(Object(h.a)(l)),l}return Object(l.a)(n,[{key:"handleChange1",value:function(e){this.setState({giturl:e.target.value})}},{key:"handleChange2",value:function(e){this.setState({texfile:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;console.log(this.state.texfile),this.setState({response:2});var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:this.state.giturl,main:this.state.texfile})};try{fetch(m.info).then((function(e){return e.json()})).then((function(e){"intIP"===m.target?t.setState({backend:"http://"+e.intIP+":"+m.port}):t.setState({backend:"http://"+e.extIP+":"+m.port}),console.log(t.state.backend),fetch(t.state.backend,n).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({response:e})}))}))}catch(a){this.setState({backend:m.backend}),console.log(m.backend),console.log(this.state.backend),fetch(this.state.backend,n).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({response:e})}))}e.preventDefault()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,"Git repo URL:",c.a.createElement("input",{type:"text",value:this.state.giturl,onChange:this.handleChange1}),"        "),c.a.createElement("label",null,"Main .tex file:",c.a.createElement("input",{type:"text",value:this.state.texfile,onChange:this.handleChange2}),"        "),c.a.createElement("input",{type:"submit",value:"Build project"})),c.a.createElement(E,{state:this.state}))}}]),n}(i.Component),v=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("h2",null,"Build your LaTeX project on the fly with ReTeX"),c.a.createElement(k,{handleSubmit:this.handleSubmit}))}}]),n}(i.Component);u.a.render(c.a.createElement(v,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.96d5176b.chunk.js.map